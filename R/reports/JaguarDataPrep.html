<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

<title><strong>Jaguar Data Preparation</strong></title>

<script type="text/javascript">
window.onload = function() {
  var imgs = document.getElementsByTagName('img'), i, img;
  for (i = 0; i < imgs.length; i++) {
    img = imgs[i];
    // center an image if it is the only element of its parent
    if (img.parentElement.childElementCount === 1)
      img.parentElement.style.textAlign = 'center';
  }
};
</script>

<!-- Styles for R syntax highlighter -->
<style type="text/css">
   pre .operator,
   pre .paren {
     color: rgb(104, 118, 135)
   }

   pre .literal {
     color: #990073
   }

   pre .number {
     color: #099;
   }

   pre .comment {
     color: #998;
     font-style: italic
   }

   pre .keyword {
     color: #900;
     font-weight: bold
   }

   pre .identifier {
     color: rgb(0, 0, 0);
   }

   pre .string {
     color: #d14;
   }
</style>

<!-- R syntax highlighter -->
<script type="text/javascript">
var hljs=new function(){function m(p){return p.replace(/&/gm,"&amp;").replace(/</gm,"&lt;")}function f(r,q,p){return RegExp(q,"m"+(r.cI?"i":"")+(p?"g":""))}function b(r){for(var p=0;p<r.childNodes.length;p++){var q=r.childNodes[p];if(q.nodeName=="CODE"){return q}if(!(q.nodeType==3&&q.nodeValue.match(/\s+/))){break}}}function h(t,s){var p="";for(var r=0;r<t.childNodes.length;r++){if(t.childNodes[r].nodeType==3){var q=t.childNodes[r].nodeValue;if(s){q=q.replace(/\n/g,"")}p+=q}else{if(t.childNodes[r].nodeName=="BR"){p+="\n"}else{p+=h(t.childNodes[r])}}}if(/MSIE [678]/.test(navigator.userAgent)){p=p.replace(/\r/g,"\n")}return p}function a(s){var r=s.className.split(/\s+/);r=r.concat(s.parentNode.className.split(/\s+/));for(var q=0;q<r.length;q++){var p=r[q].replace(/^language-/,"");if(e[p]){return p}}}function c(q){var p=[];(function(s,t){for(var r=0;r<s.childNodes.length;r++){if(s.childNodes[r].nodeType==3){t+=s.childNodes[r].nodeValue.length}else{if(s.childNodes[r].nodeName=="BR"){t+=1}else{if(s.childNodes[r].nodeType==1){p.push({event:"start",offset:t,node:s.childNodes[r]});t=arguments.callee(s.childNodes[r],t);p.push({event:"stop",offset:t,node:s.childNodes[r]})}}}}return t})(q,0);return p}function k(y,w,x){var q=0;var z="";var s=[];function u(){if(y.length&&w.length){if(y[0].offset!=w[0].offset){return(y[0].offset<w[0].offset)?y:w}else{return w[0].event=="start"?y:w}}else{return y.length?y:w}}function t(D){var A="<"+D.nodeName.toLowerCase();for(var B=0;B<D.attributes.length;B++){var C=D.attributes[B];A+=" "+C.nodeName.toLowerCase();if(C.value!==undefined&&C.value!==false&&C.value!==null){A+='="'+m(C.value)+'"'}}return A+">"}while(y.length||w.length){var v=u().splice(0,1)[0];z+=m(x.substr(q,v.offset-q));q=v.offset;if(v.event=="start"){z+=t(v.node);s.push(v.node)}else{if(v.event=="stop"){var p,r=s.length;do{r--;p=s[r];z+=("</"+p.nodeName.toLowerCase()+">")}while(p!=v.node);s.splice(r,1);while(r<s.length){z+=t(s[r]);r++}}}}return z+m(x.substr(q))}function j(){function q(x,y,v){if(x.compiled){return}var u;var s=[];if(x.k){x.lR=f(y,x.l||hljs.IR,true);for(var w in x.k){if(!x.k.hasOwnProperty(w)){continue}if(x.k[w] instanceof Object){u=x.k[w]}else{u=x.k;w="keyword"}for(var r in u){if(!u.hasOwnProperty(r)){continue}x.k[r]=[w,u[r]];s.push(r)}}}if(!v){if(x.bWK){x.b="\\b("+s.join("|")+")\\s"}x.bR=f(y,x.b?x.b:"\\B|\\b");if(!x.e&&!x.eW){x.e="\\B|\\b"}if(x.e){x.eR=f(y,x.e)}}if(x.i){x.iR=f(y,x.i)}if(x.r===undefined){x.r=1}if(!x.c){x.c=[]}x.compiled=true;for(var t=0;t<x.c.length;t++){if(x.c[t]=="self"){x.c[t]=x}q(x.c[t],y,false)}if(x.starts){q(x.starts,y,false)}}for(var p in e){if(!e.hasOwnProperty(p)){continue}q(e[p].dM,e[p],true)}}function d(B,C){if(!j.called){j();j.called=true}function q(r,M){for(var L=0;L<M.c.length;L++){if((M.c[L].bR.exec(r)||[null])[0]==r){return M.c[L]}}}function v(L,r){if(D[L].e&&D[L].eR.test(r)){return 1}if(D[L].eW){var M=v(L-1,r);return M?M+1:0}return 0}function w(r,L){return L.i&&L.iR.test(r)}function K(N,O){var M=[];for(var L=0;L<N.c.length;L++){M.push(N.c[L].b)}var r=D.length-1;do{if(D[r].e){M.push(D[r].e)}r--}while(D[r+1].eW);if(N.i){M.push(N.i)}return f(O,M.join("|"),true)}function p(M,L){var N=D[D.length-1];if(!N.t){N.t=K(N,E)}N.t.lastIndex=L;var r=N.t.exec(M);return r?[M.substr(L,r.index-L),r[0],false]:[M.substr(L),"",true]}function z(N,r){var L=E.cI?r[0].toLowerCase():r[0];var M=N.k[L];if(M&&M instanceof Array){return M}return false}function F(L,P){L=m(L);if(!P.k){return L}var r="";var O=0;P.lR.lastIndex=0;var M=P.lR.exec(L);while(M){r+=L.substr(O,M.index-O);var N=z(P,M);if(N){x+=N[1];r+='<span class="'+N[0]+'">'+M[0]+"</span>"}else{r+=M[0]}O=P.lR.lastIndex;M=P.lR.exec(L)}return r+L.substr(O,L.length-O)}function J(L,M){if(M.sL&&e[M.sL]){var r=d(M.sL,L);x+=r.keyword_count;return r.value}else{return F(L,M)}}function I(M,r){var L=M.cN?'<span class="'+M.cN+'">':"";if(M.rB){y+=L;M.buffer=""}else{if(M.eB){y+=m(r)+L;M.buffer=""}else{y+=L;M.buffer=r}}D.push(M);A+=M.r}function G(N,M,Q){var R=D[D.length-1];if(Q){y+=J(R.buffer+N,R);return false}var P=q(M,R);if(P){y+=J(R.buffer+N,R);I(P,M);return P.rB}var L=v(D.length-1,M);if(L){var O=R.cN?"</span>":"";if(R.rE){y+=J(R.buffer+N,R)+O}else{if(R.eE){y+=J(R.buffer+N,R)+O+m(M)}else{y+=J(R.buffer+N+M,R)+O}}while(L>1){O=D[D.length-2].cN?"</span>":"";y+=O;L--;D.length--}var r=D[D.length-1];D.length--;D[D.length-1].buffer="";if(r.starts){I(r.starts,"")}return R.rE}if(w(M,R)){throw"Illegal"}}var E=e[B];var D=[E.dM];var A=0;var x=0;var y="";try{var s,u=0;E.dM.buffer="";do{s=p(C,u);var t=G(s[0],s[1],s[2]);u+=s[0].length;if(!t){u+=s[1].length}}while(!s[2]);if(D.length>1){throw"Illegal"}return{r:A,keyword_count:x,value:y}}catch(H){if(H=="Illegal"){return{r:0,keyword_count:0,value:m(C)}}else{throw H}}}function g(t){var p={keyword_count:0,r:0,value:m(t)};var r=p;for(var q in e){if(!e.hasOwnProperty(q)){continue}var s=d(q,t);s.language=q;if(s.keyword_count+s.r>r.keyword_count+r.r){r=s}if(s.keyword_count+s.r>p.keyword_count+p.r){r=p;p=s}}if(r.language){p.second_best=r}return p}function i(r,q,p){if(q){r=r.replace(/^((<[^>]+>|\t)+)/gm,function(t,w,v,u){return w.replace(/\t/g,q)})}if(p){r=r.replace(/\n/g,"<br>")}return r}function n(t,w,r){var x=h(t,r);var v=a(t);var y,s;if(v){y=d(v,x)}else{return}var q=c(t);if(q.length){s=document.createElement("pre");s.innerHTML=y.value;y.value=k(q,c(s),x)}y.value=i(y.value,w,r);var u=t.className;if(!u.match("(\\s|^)(language-)?"+v+"(\\s|$)")){u=u?(u+" "+v):v}if(/MSIE [678]/.test(navigator.userAgent)&&t.tagName=="CODE"&&t.parentNode.tagName=="PRE"){s=t.parentNode;var p=document.createElement("div");p.innerHTML="<pre><code>"+y.value+"</code></pre>";t=p.firstChild.firstChild;p.firstChild.cN=s.cN;s.parentNode.replaceChild(p.firstChild,s)}else{t.innerHTML=y.value}t.className=u;t.result={language:v,kw:y.keyword_count,re:y.r};if(y.second_best){t.second_best={language:y.second_best.language,kw:y.second_best.keyword_count,re:y.second_best.r}}}function o(){if(o.called){return}o.called=true;var r=document.getElementsByTagName("pre");for(var p=0;p<r.length;p++){var q=b(r[p]);if(q){n(q,hljs.tabReplace)}}}function l(){if(window.addEventListener){window.addEventListener("DOMContentLoaded",o,false);window.addEventListener("load",o,false)}else{if(window.attachEvent){window.attachEvent("onload",o)}else{window.onload=o}}}var e={};this.LANGUAGES=e;this.highlight=d;this.highlightAuto=g;this.fixMarkup=i;this.highlightBlock=n;this.initHighlighting=o;this.initHighlightingOnLoad=l;this.IR="[a-zA-Z][a-zA-Z0-9_]*";this.UIR="[a-zA-Z_][a-zA-Z0-9_]*";this.NR="\\b\\d+(\\.\\d+)?";this.CNR="\\b(0[xX][a-fA-F0-9]+|(\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)";this.BNR="\\b(0b[01]+)";this.RSR="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|\\.|-|-=|/|/=|:|;|<|<<|<<=|<=|=|==|===|>|>=|>>|>>=|>>>|>>>=|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~";this.ER="(?![\\s\\S])";this.BE={b:"\\\\.",r:0};this.ASM={cN:"string",b:"'",e:"'",i:"\\n",c:[this.BE],r:0};this.QSM={cN:"string",b:'"',e:'"',i:"\\n",c:[this.BE],r:0};this.CLCM={cN:"comment",b:"//",e:"$"};this.CBLCLM={cN:"comment",b:"/\\*",e:"\\*/"};this.HCM={cN:"comment",b:"#",e:"$"};this.NM={cN:"number",b:this.NR,r:0};this.CNM={cN:"number",b:this.CNR,r:0};this.BNM={cN:"number",b:this.BNR,r:0};this.inherit=function(r,s){var p={};for(var q in r){p[q]=r[q]}if(s){for(var q in s){p[q]=s[q]}}return p}}();hljs.LANGUAGES.cpp=function(){var a={keyword:{"false":1,"int":1,"float":1,"while":1,"private":1,"char":1,"catch":1,"export":1,virtual:1,operator:2,sizeof:2,dynamic_cast:2,typedef:2,const_cast:2,"const":1,struct:1,"for":1,static_cast:2,union:1,namespace:1,unsigned:1,"long":1,"throw":1,"volatile":2,"static":1,"protected":1,bool:1,template:1,mutable:1,"if":1,"public":1,friend:2,"do":1,"return":1,"goto":1,auto:1,"void":2,"enum":1,"else":1,"break":1,"new":1,extern:1,using:1,"true":1,"class":1,asm:1,"case":1,typeid:1,"short":1,reinterpret_cast:2,"default":1,"double":1,register:1,explicit:1,signed:1,typename:1,"try":1,"this":1,"switch":1,"continue":1,wchar_t:1,inline:1,"delete":1,alignof:1,char16_t:1,char32_t:1,constexpr:1,decltype:1,noexcept:1,nullptr:1,static_assert:1,thread_local:1,restrict:1,_Bool:1,complex:1},built_in:{std:1,string:1,cin:1,cout:1,cerr:1,clog:1,stringstream:1,istringstream:1,ostringstream:1,auto_ptr:1,deque:1,list:1,queue:1,stack:1,vector:1,map:1,set:1,bitset:1,multiset:1,multimap:1,unordered_set:1,unordered_map:1,unordered_multiset:1,unordered_multimap:1,array:1,shared_ptr:1}};return{dM:{k:a,i:"</",c:[hljs.CLCM,hljs.CBLCLM,hljs.QSM,{cN:"string",b:"'\\\\?.",e:"'",i:"."},{cN:"number",b:"\\b(\\d+(\\.\\d*)?|\\.\\d+)(u|U|l|L|ul|UL|f|F)"},hljs.CNM,{cN:"preprocessor",b:"#",e:"$"},{cN:"stl_container",b:"\\b(deque|list|queue|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array)\\s*<",e:">",k:a,r:10,c:["self"]}]}}}();hljs.LANGUAGES.r={dM:{c:[hljs.HCM,{cN:"number",b:"\\b0[xX][0-9a-fA-F]+[Li]?\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"number",b:"\\b\\d+(?:[eE][+\\-]?\\d*)?L\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"number",b:"\\b\\d+\\.(?!\\d)(?:i\\b)?",e:hljs.IMMEDIATE_RE,r:1},{cN:"number",b:"\\b\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d*)?i?\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"number",b:"\\.\\d+(?:[eE][+\\-]?\\d*)?i?\\b",e:hljs.IMMEDIATE_RE,r:1},{cN:"keyword",b:"(?:tryCatch|library|setGeneric|setGroupGeneric)\\b",e:hljs.IMMEDIATE_RE,r:10},{cN:"keyword",b:"\\.\\.\\.",e:hljs.IMMEDIATE_RE,r:10},{cN:"keyword",b:"\\.\\.\\d+(?![\\w.])",e:hljs.IMMEDIATE_RE,r:10},{cN:"keyword",b:"\\b(?:function)",e:hljs.IMMEDIATE_RE,r:2},{cN:"keyword",b:"(?:if|in|break|next|repeat|else|for|return|switch|while|try|stop|warning|require|attach|detach|source|setMethod|setClass)\\b",e:hljs.IMMEDIATE_RE,r:1},{cN:"literal",b:"(?:NA|NA_integer_|NA_real_|NA_character_|NA_complex_)\\b",e:hljs.IMMEDIATE_RE,r:10},{cN:"literal",b:"(?:NULL|TRUE|FALSE|T|F|Inf|NaN)\\b",e:hljs.IMMEDIATE_RE,r:1},{cN:"identifier",b:"[a-zA-Z.][a-zA-Z0-9._]*\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"operator",b:"<\\-(?!\\s*\\d)",e:hljs.IMMEDIATE_RE,r:2},{cN:"operator",b:"\\->|<\\-",e:hljs.IMMEDIATE_RE,r:1},{cN:"operator",b:"%%|~",e:hljs.IMMEDIATE_RE},{cN:"operator",b:">=|<=|==|!=|\\|\\||&&|=|\\+|\\-|\\*|/|\\^|>|<|!|&|\\||\\$|:",e:hljs.IMMEDIATE_RE,r:0},{cN:"operator",b:"%",e:"%",i:"\\n",r:1},{cN:"identifier",b:"`",e:"`",r:0},{cN:"string",b:'"',e:'"',c:[hljs.BE],r:0},{cN:"string",b:"'",e:"'",c:[hljs.BE],r:0},{cN:"paren",b:"[[({\\])}]",e:hljs.IMMEDIATE_RE,r:0}]}};
hljs.initHighlightingOnLoad();
</script>



<style type="text/css">
body, td {
   font-family: sans-serif;
   background-color: white;
   font-size: 13px;
}

body {
  max-width: 800px;
  margin: auto;
  padding: 1em;
  line-height: 20px;
}

tt, code, pre {
   font-family: 'DejaVu Sans Mono', 'Droid Sans Mono', 'Lucida Console', Consolas, Monaco, monospace;
}

h1 {
   font-size:2.2em;
}

h2 {
   font-size:1.8em;
}

h3 {
   font-size:1.4em;
}

h4 {
   font-size:1.0em;
}

h5 {
   font-size:0.9em;
}

h6 {
   font-size:0.8em;
}

a:visited {
   color: rgb(50%, 0%, 50%);
}

pre, img {
  max-width: 100%;
}
pre {
  overflow-x: auto;
}
pre code {
   display: block; padding: 0.5em;
}

code {
  font-size: 92%;
  border: 1px solid #ccc;
}

code[class] {
  background-color: #F8F8F8;
}

table, td, th {
  border: none;
}

blockquote {
   color:#666666;
   margin:0;
   padding-left: 1em;
   border-left: 0.5em #EEE solid;
}

hr {
   height: 0px;
   border-bottom: none;
   border-top-width: thin;
   border-top-style: dotted;
   border-top-color: #999999;
}

@media print {
   * {
      background: transparent !important;
      color: black !important;
      filter:none !important;
      -ms-filter: none !important;
   }

   body {
      font-size:12pt;
      max-width:100%;
   }

   a, a:visited {
      text-decoration: underline;
   }

   hr {
      visibility: hidden;
      page-break-before: always;
   }

   pre, blockquote {
      padding-right: 1em;
      page-break-inside: avoid;
   }

   tr, img {
      page-break-inside: avoid;
   }

   img {
      max-width: 100% !important;
   }

   @page :left {
      margin: 15mm 20mm 15mm 10mm;
   }

   @page :right {
      margin: 15mm 10mm 15mm 20mm;
   }

   p, h2, h3 {
      orphans: 3; widows: 3;
   }

   h2, h3 {
      page-break-after: avoid;
   }
}
</style>



</head>

<body>
<h1><strong>Jaguar Data Preparation</strong></h1>

<h4><em>Alan E. de Barros,Bernardo Niebuhr,Vanesa Bejarano,Julia Oshima,Claudia Kanda,Milton Ribeiro,Ronaldo Morato,Paulo Prado</em></h4>

<p>date: &ldquo;March, 08 2019&rdquo;</p>

<pre><code class="r"># Adapted from Bernardo Niebuhr data preparation, Luca Borger lectures and John Fieberg&#39;s amt&#39;s movebank scripts
</code></pre>

<h4><em>Preamble</em></h4>

<p>For a fresh start, clean everything in working memory</p>

<pre><code class="r">rm(list= ls())                                                 
</code></pre>

<p>Install and load packages</p>

<pre><code class="r">if(!require(install.load)) install.packages(&#39;install.load&#39;); library(install.load)
install.load::install_load(&quot;move&quot;, &quot;adehabitatLT&quot;, &quot;amt&quot;) # Movement packages
install.load::install_load(&quot;maptools&quot;, &quot;raster&quot;, &quot;rgdal&quot;,&quot;sp&quot;) # Spatial packages
install.load::install_load(&quot;colorspace&quot;,&quot;ggmap&quot;, &quot;rgl&quot;, &quot;lattice&quot;, &quot;leaflet&quot;) # Visualization packages
install.load::install_load(&quot;RCurl&quot;, &quot;dplyr&quot;, &quot;readr&quot;, &quot;lubridate&quot;, &quot;tibble&quot;) # Aux packages
install.load::install_load(&quot;circular&quot;, &quot;caTools&quot;) # Stats packages
install.load::install_load(&quot;knitr&quot;, &quot;ezknitr&quot;) # To render documents 
</code></pre>

<h3>Source functions from GitHub local directory</h3>

<pre><code class="r"># Do not required to set directory if Rscript have been opened from the GitHub local directory
source(&quot;DataPrepFunctions.R&quot;) 
</code></pre>

<h4>Load the data and create a dataframe object:</h4>

<pre><code class="r">mov.data.org &lt;- read.delim(file=&quot;../data/mov.data.org.txt&quot;)
mov.data.org &lt;- dplyr::select(mov.data.org, -(individual.taxon.canonical.name:tag.local.identifier))
</code></pre>

<h4>Add Individual info  (see older development files for details)</h4>

<pre><code class="r">info &lt;- read.delim(file=&quot;../data/info.txt&quot;)
</code></pre>

<h4>Merge movement with individual info/parameters</h4>

<pre><code class="r">merged&lt;- merge(mov.data.org,info)
mov.data.org &lt;- merged 
</code></pre>

<h4>Organize data</h4>

<p>Test
get.year(time.stamp = mov.data.org$timestamp[10000])</p>

<p>All individuals</p>

<pre><code class="r">year &lt;- as.numeric(sapply(mov.data.org$timestamp, get.year))
</code></pre>

<p>Add 1900/2000</p>

<pre><code class="r">new.year &lt;- as.character(ifelse(year &gt; 50, year + 1900, year + 2000))
</code></pre>

<p>Test</p>

<pre><code class="r">set.year(time.stamp = as.character(mov.data.org$timestamp[10000]), year = &#39;2013&#39;)
</code></pre>

<pre><code>## [1] &quot;12/19/2013 21:00&quot;
</code></pre>

<p>All individuals</p>

<pre><code class="r">date.time &lt;- as.character(mapply(set.year, as.character(mov.data.org$timestamp),
                                 new.year))
</code></pre>

<p>Date/Time as POSIXct object</p>

<pre><code class="r">mov.data.org$timestamp.posix &lt;- as.POSIXct(date.time, 
                                           format = &quot;%m/%d/%Y %H:%M&quot;, tz = &#39;GMT&#39;)
mov.data.org$GMTtime &lt;- mov.data.org$timestamp.posix
</code></pre>

<h2>Get local time</h2>

<pre><code class="r"># A column to represent the local timezone (already with the - signal) has been included to then multiply the timestamp and get the difference:
mov.data.org$local_time &lt;- mov.data.org$timestamp.posix + mov.data.org$timezone*60*60
mov.data.org$timestamp.posix &lt;- mov.data.org$local_time 
</code></pre>

<p>Now all the (timestamp.posix)&#39;s calculations are based on local time</p>

<h3>Adjusting for Movement Packages</h3>

<h3>adehabitatLT</h3>

<p>Transforms in ltraj object</p>

<pre><code class="r">coords &lt;- data.frame(mov.data.org$location.long, mov.data.org$location.lat)
mov.traj &lt;- as.ltraj(xy = coords, date=mov.data.org$timestamp.posix, 
                     id=mov.data.org$individual.local.identifier..ID., 
                     burst=mov.data.org$individual.local.identifier..ID., 
                     infolocs = mov.data.org[,-c(3:6, ncol(mov.data.org))])
mov.traj.df &lt;- ld(mov.traj)
</code></pre>

<h3>move</h3>

<pre><code class="r"># Organize data as a move package format
move.data &lt;- move(x = mov.traj.df$x, y = mov.traj.df$y, 
                  time = mov.traj.df$date, 
                  proj = CRS(&#39;+proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs&#39;),
                  data = mov.traj.df, animal = mov.traj.df$id, sensor = &#39;GPS&#39;)
</code></pre>

<p>move.data  (moveStack)
Separate individual animals&#39; trajectories </p>

<pre><code class="r">unstacked &lt;- split(move.data)
</code></pre>

<pre><code>## Error in split(as.data.frame(coordinates(x)), f): argument &quot;f&quot; is missing, with no default
</code></pre>

<pre><code class="r">jaguar_df &lt;- as(move.data, &quot;data.frame&quot;)
</code></pre>

<p>Reclassifying variables</p>

<pre><code class="r">age &lt;- as.numeric(levels(jaguar_df$age))[jaguar_df$age]
</code></pre>

<pre><code>## Warning: NAs introduced by coercion
</code></pre>

<pre><code class="r">weight &lt;- as.numeric(levels(jaguar_df$weight))[jaguar_df$weight]
</code></pre>

<pre><code>## Warning: NAs introduced by coercion
</code></pre>

<pre><code class="r">jaguar_df$id &lt;- as.factor(jaguar_df$individual.local.identifier..ID.)  
jaguar_df$age &lt;- age   
jaguar_df$weight &lt;- weight  
</code></pre>

<p>Cleaning up columns which will be in excess due to repetition of analysis </p>

<pre><code class="r">jaguar_df$dx &lt;- NULL
jaguar_df$dy &lt;- NULL
jaguar_df$dist &lt;- NULL
jaguar_df$R2n &lt;- NULL
jaguar_df$abs.angle &lt;- NULL
jaguar_df$rel.angle  &lt;- NULL
jaguar_df$location.lat &lt;- NULL
jaguar_df$timestamps  &lt;- NULL
jaguar_df$sensor &lt;- NULL
jaguar_df$burst &lt;- NULL
jaguar_df$optional &lt;- NULL
jaguar_df$coords.x1 &lt;- NULL
jaguar_df$coords.x2 &lt;- NULL
jaguar_df$trackId &lt;- NULL
jaguar_df$individual.local.identifier..ID.&lt;- NULL
jaguar_df$study.name &lt;- NULL
jaguar_df$collar_type &lt;- NULL  
jaguar_df$brand &lt;- NULL
jaguar_df$local_time &lt;- NULL
jaguar_df$Event_ID  &lt;- NULL
#jaguar_df$timezone &lt;- NULL
# jaguar_df$dt &lt;- NULL
</code></pre>

<pre><code class="r">jaguar_df$week &lt;- as.numeric(strftime(as.POSIXlt(jaguar_df$timestamp.posix),format=&quot;%W&quot;))
jaguar_df$day &lt;- as.numeric(strftime(as.POSIXlt(jaguar_df$timestamp.posix),format=&quot;%j&quot;))
jaguar_df$year &lt;- as.numeric(strftime(as.POSIXlt(jaguar_df$timestamp.posix),format=&quot;%Y&quot;))
jaguar_df$hour &lt;- as.numeric(strftime(as.POSIXlt(jaguar_df$timestamp.posix),format=&quot;%H&quot;))
jaguar_df$min &lt;- as.numeric(strftime(as.POSIXlt(jaguar_df$timestamp.posix),format=&quot;%M&quot;))
jaguar_df$time &lt;- jaguar_df$hour + (jaguar_df$min)/60
</code></pre>

<pre><code class="r"># day  7 to 16  and  night 19 to 4 and  sun riseset 5,6,17,18
#jaguar_df$month=as.numeric(substr(jaguar_df$date,6,7))
jaguar_df$period=ifelse(jaguar_df$hour==7,&quot;day&quot;,
                        ifelse(jaguar_df$hour==8,&quot;day&quot;,
                        ifelse(jaguar_df$hour==9,&quot;day&quot;, 
                        ifelse(jaguar_df$hour==10,&quot;day&quot;, 
                        ifelse(jaguar_df$hour==11,&quot;day&quot;, 
                        ifelse(jaguar_df$hour==12,&quot;day&quot;, 
                        ifelse(jaguar_df$hour==13,&quot;day&quot;, 
                        ifelse(jaguar_df$hour==14,&quot;day&quot;,
                        ifelse(jaguar_df$hour==15,&quot;day&quot;,
                        ifelse(jaguar_df$hour==16,&quot;day&quot;,
                        ifelse(jaguar_df$hour==19,&quot;night&quot;,
                        ifelse(jaguar_df$hour==20,&quot;night&quot;,
                        ifelse(jaguar_df$hour==21,&quot;night&quot;,
                        ifelse(jaguar_df$hour==22,&quot;night&quot;, 
                        ifelse(jaguar_df$hour==23,&quot;night&quot;,
                        ifelse(jaguar_df$hour==0,&quot;night&quot;,
                        ifelse(jaguar_df$hour==1,&quot;night&quot;,
                        ifelse(jaguar_df$hour==2,&quot;night&quot;,
                        ifelse(jaguar_df$hour==3,&quot;night&quot;,
                        ifelse(jaguar_df$hour==4,&quot;night&quot;,&quot;riseset&quot;))))))))))))))))))))
</code></pre>

<h1>More Data checking and cleaning</h1>

<p>Delete observations where missing lat or long or a timestamp. (There are no missing observations but it is a good practice)</p>

<pre><code class="r">ind&lt;-complete.cases(jaguar_df[,c(&quot;y&quot;,&quot;x&quot;,&quot;date&quot;)])
jaguar_df&lt;-jaguar_df[ind==TRUE,]
</code></pre>

<pre><code class="r">#&quot; Check order (data should already be ordered)
jaguar_ord &lt;- jaguar_df[order(jaguar_df$id,jaguar_df$date),]
all.equal(jaguar_df,jaguar_ord)
</code></pre>

<pre><code>## [1] TRUE
</code></pre>

<p>Check for duplicated observations (ones with same lat, long, timestamp,
 and individual identifier). No duplicate observations in this data set</p>

<pre><code class="r">ind2&lt;-jaguar_df %&gt;% select(&quot;date&quot;,&quot;x&quot;,&quot;y&quot;,&quot;id&quot;) %&gt;% duplicated
</code></pre>

<p>sum(ind2) # no duplicates</p>

<pre><code class="r">jaguar_df&lt;-jaguar_df[ind2!=TRUE,]
</code></pre>

<p>Clean suspectly close points!!!  Above 1200 secs or 20 min minimal interval </p>

<pre><code class="r">excludes &lt;- filter(jaguar_df, dt &lt; 1200)
removed&lt;- anti_join(jaguar_df, excludes)
</code></pre>

<pre><code>## Joining, by = c(&quot;x&quot;, &quot;y&quot;, &quot;date&quot;, &quot;dt&quot;, &quot;timestamp.posix&quot;, &quot;GMTtime&quot;, &quot;id&quot;, &quot;country&quot;, &quot;status&quot;, &quot;model&quot;, &quot;sex&quot;, &quot;age&quot;, &quot;weight&quot;, &quot;schedule&quot;, &quot;project_region&quot;, &quot;project_bioveg&quot;, &quot;timezone&quot;, &quot;week&quot;, &quot;day&quot;, &quot;year&quot;, &quot;hour&quot;, &quot;min&quot;, &quot;time&quot;, &quot;period&quot;)
</code></pre>

<pre><code class="r">jaguar_df &lt;- removed 
</code></pre>

<h2>Add UTMs and Adjust Posix accordingly with timezone</h2>

<h4>Grouping project regions when they occur within the same UTM zone</h4>

<pre><code class="r"># Code with function =&gt; crs.convert
</code></pre>

<h3>ATLANTIC FOREST WEST    (Project regions 1 and 2)</h3>

<p>1) Atlantic Forest W1</p>

<pre><code class="r">AFW1 &lt;- crs.convert(data = subset(jaguar_df,project_region==&#39;Atlantic Forest W1&#39;),
                    crs.input = &quot;+proj=longlat +datum=WGS84&quot;,
                    crs.output = &quot;+proj=utm +zone=22K +south +datum=WGS84 +units=m +no_defs&quot;,
                    point.names = c(&quot;utm_x&quot;, &quot;utm_y&quot;, &quot;long_x&quot;, &quot;lat_y&quot;))
AFW1$date &lt;- as.character(AFW1$date)
AFW1$date &lt;- as.POSIXct(AFW1$date, format =&quot;%Y-%m-%d %H:%M:%S&quot;, tz = &quot;Etc/GMT+3&quot;) 
</code></pre>

<p>2) Atlantic Forest W2</p>

<pre><code class="r">AFW2 &lt;- crs.convert(data =subset(jaguar_df,project_region==&#39;Atlantic Forest W2&#39;),
                    crs.input = &quot;+proj=longlat +datum=WGS84&quot;,
                    crs.output = &quot;+proj=utm +zone=22K +south +datum=WGS84 +units=m +no_defs&quot;,
                    point.names = c(&quot;utm_x&quot;, &quot;utm_y&quot;, &quot;long_x&quot;, &quot;lat_y&quot;))
AFW2$date &lt;- as.character(AFW2$date)
AFW2$date &lt;- as.POSIXct(AFW2$date, format =&quot;%Y-%m-%d %H:%M:%S&quot;, tz = &quot;Etc/GMT+3&quot;) 
</code></pre>

<p>Atlantic Forest West</p>

<pre><code class="r">AFW=rbind(AFW1,AFW2)
</code></pre>

<h3>CAATINGA</h3>

<p>3) Caatinga</p>

<pre><code class="r">Caatinga &lt;- crs.convert(data = subset(jaguar_df,project_region==&#39;Caatinga&#39;),
                    crs.input = &quot;+proj=longlat +datum=WGS84&quot;,
                    crs.output = &quot;+proj=utm +zone=23L +south +datum=WGS84 +units=m +no_defs&quot;,
                    point.names = c(&quot;utm_x&quot;, &quot;utm_y&quot;, &quot;long_x&quot;, &quot;lat_y&quot;))
Caatinga$date &lt;- as.character(Caatinga$date)
Caatinga$date &lt;- as.POSIXct(Caatinga$date, format =&quot;%Y-%m-%d %H:%M:%S&quot;, tz = &quot;Etc/GMT+3&quot;) 
</code></pre>

<h3>CERRADO   2 Projects (4 and 5)</h3>

<p>4)  Cerrado1</p>

<pre><code class="r">Cerrado1&lt;- crs.convert(data = subset(jaguar_df,project_region==&#39;Cerrado1&#39;),
                       crs.input = &quot;+proj=longlat +datum=WGS84&quot;,
                       crs.output = &quot;+proj=utm +zone=22K +south +datum=WGS84 +units=m +no_defs&quot;,
                       point.names = c(&quot;utm_x&quot;, &quot;utm_y&quot;, &quot;long_x&quot;, &quot;lat_y&quot;))
Cerrado1$date &lt;- as.character(Cerrado1$date)
Cerrado1$date &lt;- as.POSIXct(Cerrado1$date, format =&quot;%Y-%m-%d %H:%M:%S&quot;, tz = &quot;Etc/GMT+3&quot;) 
</code></pre>

<p>5)  Cerrado2</p>

<pre><code class="r">Cerrado2&lt;- crs.convert(data = subset(jaguar_df,project_region==&#39;Cerrado2&#39;),
                       crs.input = &quot;+proj=longlat +datum=WGS84&quot;,
                       crs.output = &quot;+proj=utm +zone=22L +south +datum=WGS84 +units=m +no_defs&quot;,
                       point.names = c(&quot;utm_x&quot;, &quot;utm_y&quot;, &quot;long_x&quot;, &quot;lat_y&quot;))
Cerrado2$date &lt;- as.character(Cerrado2$date)
Cerrado2$date &lt;- as.POSIXct(Cerrado2$date, format =&quot;%Y-%m-%d %H:%M:%S&quot;, tz = &quot;Etc/GMT+3&quot;) 
Cerrado=rbind(Cerrado1,Cerrado2)
</code></pre>

<h3>COSTA RICA</h3>

<p>6) Costa Rica</p>

<pre><code class="r">CRica&lt;- crs.convert(data = subset(jaguar_df,project_region==&#39;Costa Rica&#39;),
                       crs.input = &quot;+proj=longlat +datum=WGS84&quot;,
                       crs.output = &quot;+proj=utm +zone=16P +north +datum=WGS84 +units=m +no_defs&quot;,
                       point.names = c(&quot;utm_x&quot;, &quot;utm_y&quot;, &quot;long_x&quot;, &quot;lat_y&quot;))
CRica$date &lt;- as.character(CRica$date)
CRica$date &lt;- as.POSIXct(CRica$date, format =&quot;%Y-%m-%d %H:%M:%S&quot;, tz = &quot;Etc/GMT+6&quot;) 
</code></pre>

<h3>DRY CHACO</h3>

<p>Transforming coordinate to UTM # ids: 16,70 =&gt; (most 20K), ids: 76,77 =&gt; (20 K); ids: 71,72,73 =&gt; (21 K) </p>

<pre><code class="r">Drych=subset(jaguar_df,project_region==&#39;Dry chaco&#39;)
X16=subset(Drych,id==&#39;16&#39;)
X70=subset(Drych,id==&#39;70&#39;)
X71=subset(Drych,id==&#39;71&#39;)
X72=subset(Drych,id==&#39;72&#39;)
X73=subset(Drych,id==&#39;73&#39;)
X76=subset(Drych,id==&#39;76&#39;)
X77=subset(Drych,id==&#39;77&#39;)
</code></pre>

<p>Drych1 and Drych2</p>

<pre><code class="r">Drych1=rbind(X16,X70,X76,X77)
Drych2=rbind(X71,X72,X73)
</code></pre>

<p>7) Drych1    </p>

<pre><code class="r"># 76,77  Zone 20 K; 16 &amp; 70 (most is in Zone 20 K too, but a little bit in 21K)
Drych1&lt;- crs.convert(data = Drych1,
                    crs.input = &quot;+proj=longlat +datum=WGS84&quot;,
                    crs.output = &quot;+proj=utm +zone=20K +south +datum=WGS84 +units=m +no_defs&quot;,
                    point.names = c(&quot;utm_x&quot;, &quot;utm_y&quot;, &quot;long_x&quot;, &quot;lat_y&quot;))
Drych1$date &lt;- as.character(Drych1$date)
Drych1$date &lt;- as.POSIXct(Drych1$date, format =&quot;%Y-%m-%d %H:%M:%S&quot;, tz = &quot;Etc/GMT+4&quot;) 
</code></pre>

<p>8) Drych2  </p>

<pre><code class="r"># 71,72,73 =&gt; (21 K)
Drych2&lt;- crs.convert(data = Drych2,
                     crs.input = &quot;+proj=longlat +datum=WGS84&quot;,
                     crs.output = &quot;+proj=utm +zone=21K +south +datum=WGS84 +units=m +no_defs&quot;,
                     point.names = c(&quot;utm_x&quot;, &quot;utm_y&quot;, &quot;long_x&quot;, &quot;lat_y&quot;))
Drych2$date &lt;- as.character(Drych2$date)
Drych2$date &lt;- as.POSIXct(Drych2$date, format =&quot;%Y-%m-%d %H:%M:%S&quot;, tz = &quot;Etc/GMT+4&quot;) 
# Dry Chaco Total
Drych=rbind(Drych1,Drych2)
</code></pre>

<h3>HUMID CHACO</h3>

<p>9) Humid Chaco  </p>

<pre><code class="r">Hch&lt;- crs.convert(data = subset(jaguar_df,project_region==&#39;Humid chaco&#39;),
                    crs.input = &quot;+proj=longlat +datum=WGS84&quot;,
                    crs.output = &quot;+proj=utm +zone=21K +south +datum=WGS84 +units=m +no_defs&quot;,
                    point.names = c(&quot;utm_x&quot;, &quot;utm_y&quot;, &quot;long_x&quot;, &quot;lat_y&quot;))
Hch$date &lt;- as.character(Hch$date)
Hch$date &lt;- as.POSIXct(Hch$date, format =&quot;%Y-%m-%d %H:%M:%S&quot;, tz = &quot;Etc/GMT+4&quot;) 
</code></pre>

<h3>FOREST PARAGUAY</h3>

<p>10) Forest Paraguay   </p>

<pre><code class="r">FPy&lt;- crs.convert(data = subset(jaguar_df,project_region==&#39;Forest Paraguay&#39;),
                  crs.input = &quot;+proj=longlat +datum=WGS84&quot;,
                  crs.output = &quot;+proj=utm +zone=21J +south +datum=WGS84 +units=m +no_defs&quot;,
                  point.names = c(&quot;utm_x&quot;, &quot;utm_y&quot;, &quot;long_x&quot;, &quot;lat_y&quot;))
FPy$date &lt;- as.character(FPy$date)
FPy$date &lt;- as.POSIXct(FPy$date, format =&quot;%Y-%m-%d %H:%M:%S&quot;, tz = &quot;Etc/GMT+4&quot;) 
</code></pre>

<h3>IGUAZU</h3>

<pre><code class="r">Iguazu=subset(jaguar_df,project_region==&#39;Iguazu&#39;)
# Transforming coordinate to UTM   # 42,66,80,90 =&gt; (21 J);      83 =&gt; (22 J) 
X42=subset(Iguazu,id==&#39;42&#39;)
X66=subset(Iguazu,id==&#39;66&#39;)
X80=subset(Iguazu,id==&#39;80&#39;)
X90=subset(Iguazu,id==&#39;90&#39;)
X83=subset(Iguazu,id==&#39;83&#39;)
</code></pre>

<p>Iguazu1 and Iguazu2</p>

<pre><code class="r">Iguazu1=rbind(X42,X66,X80,X90)
Iguazu2=(X83)
</code></pre>

<p>11) Iguazu1    </p>

<pre><code class="r"># 42,66,80,90 =&gt; ( Zone 21 J)
Iguazu1&lt;- crs.convert(data = Iguazu1,
                     crs.input = &quot;+proj=longlat +datum=WGS84&quot;,
                     crs.output = &quot;+proj=utm +zone=21J +south +datum=WGS84 +units=m +no_defs&quot;,
                     point.names = c(&quot;utm_x&quot;, &quot;utm_y&quot;, &quot;long_x&quot;, &quot;lat_y&quot;))
Iguazu1$date &lt;- as.character(Iguazu1$date)
Iguazu1$date &lt;- as.POSIXct(Iguazu1$date, format =&quot;%Y-%m-%d %H:%M:%S&quot;, tz = &quot;Etc/GMT+3&quot;) 
</code></pre>

<p>12) Iguazu2    </p>

<pre><code class="r">#  83 =&gt; (22 J) 
Iguazu2&lt;- crs.convert(data = Iguazu2,
                      crs.input = &quot;+proj=longlat +datum=WGS84&quot;,
                      crs.output = &quot;+proj=utm +zone=22J +south +datum=WGS84 +units=m +no_defs&quot;,
                      point.names = c(&quot;utm_x&quot;, &quot;utm_y&quot;, &quot;long_x&quot;, &quot;lat_y&quot;))
Iguazu2$date &lt;- as.character(Iguazu2$date)
Iguazu2$date &lt;- as.POSIXct(Iguazu2$date, format =&quot;%Y-%m-%d %H:%M:%S&quot;, tz = &quot;Etc/GMT+3&quot;) 
</code></pre>

<p>Iguazu</p>

<pre><code class="r">Iguazu=rbind(Iguazu1,Iguazu2)
</code></pre>

<h3>AMAZONIA</h3>

<p>13)  Amazonia Mamiraua (Brazil) - Flooded Amazonia</p>

<pre><code class="r">Mamiraua&lt;- crs.convert(data = subset(jaguar_df,project_region==&#39;Mamiraua&#39;),
                  crs.input = &quot;+proj=longlat +datum=WGS84&quot;,
                  crs.output = &quot;+proj=utm +zone=20M +south +datum=WGS84 +units=m +no_defs&quot;,
                  point.names = c(&quot;utm_x&quot;, &quot;utm_y&quot;, &quot;long_x&quot;, &quot;lat_y&quot;))
Mamiraua$date &lt;- as.character(Mamiraua$date)
Mamiraua$date &lt;- as.POSIXct(Mamiraua$date, format =&quot;%Y-%m-%d %H:%M:%S&quot;, tz = &quot;Etc/GMT+4&quot;) 
</code></pre>

<p>Dry Amazonia, PA, translocated 
14) IOP Para Amazonia   </p>

<pre><code class="r"># Translocated animal   
iopPA&lt;- crs.convert(data = subset(jaguar_df,id==&#39;24&#39;),
                       crs.input = &quot;+proj=longlat +datum=WGS84&quot;,
                       crs.output = &quot;+proj=utm +zone=22M +south +datum=WGS84 +units=m +no_defs&quot;,
                       point.names = c(&quot;utm_x&quot;, &quot;utm_y&quot;, &quot;long_x&quot;, &quot;lat_y&quot;))
iopPA$date &lt;- as.character(iopPA$date)
iopPA$date &lt;- as.POSIXct(iopPA$date, format =&quot;%Y-%m-%d %H:%M:%S&quot;, tz = &quot;Etc/GMT+3&quot;) 
</code></pre>

<h3>MEXICO</h3>

<p>Greater Lacandona  15) Mexico </p>

<pre><code class="r">Lacandona&lt;- crs.convert(data = subset(jaguar_df,project_region==&#39;Greater Lacandona&#39;),
                    crs.input = &quot;+proj=longlat +datum=WGS84&quot;,
                    crs.output = &quot;+proj=utm +zone=15Q +south +datum=WGS84 +units=m +no_defs&quot;,
                    point.names = c(&quot;utm_x&quot;, &quot;utm_y&quot;, &quot;long_x&quot;, &quot;lat_y&quot;))
Lacandona$date &lt;- as.character(Lacandona$date)
Lacandona$date &lt;- as.POSIXct(Lacandona$date, format =&quot;%Y-%m-%d %H:%M:%S&quot;, tz = &quot;Etc/GMT+6&quot;) 
</code></pre>

<p>Mexico East  16) </p>

<pre><code class="r">MexEast&lt;- crs.convert(data = subset(jaguar_df,project_region==&#39;Mexico East&#39;),
                        crs.input = &quot;+proj=longlat +datum=WGS84&quot;,
                        crs.output = &quot;+proj=utm +zone=16Q +south +datum=WGS84 +units=m +no_defs&quot;,
                        point.names = c(&quot;utm_x&quot;, &quot;utm_y&quot;, &quot;long_x&quot;, &quot;lat_y&quot;))
MexEast$date &lt;- as.character(MexEast$date)
MexEast$date &lt;- as.POSIXct(MexEast$date, format =&quot;%Y-%m-%d %H:%M:%S&quot;, tz = &quot;Etc/GMT+6&quot;) 
</code></pre>

<p>Mexico Sonora 17) </p>

<pre><code class="r">Sonora&lt;- crs.convert(data = subset(jaguar_df,project_region==&#39;Mexico Sonora&#39;),
                      crs.input = &quot;+proj=longlat +datum=WGS84&quot;,
                      crs.output = &quot;+proj=utm +zone=12R +south +datum=WGS84 +units=m +no_defs&quot;,
                      point.names = c(&quot;utm_x&quot;, &quot;utm_y&quot;, &quot;long_x&quot;, &quot;lat_y&quot;))
Sonora$date &lt;- as.character(Sonora$date)
Sonora$date &lt;- as.POSIXct(Sonora$date, format =&quot;%Y-%m-%d %H:%M:%S&quot;, tz = &quot;Etc/GMT+7&quot;) 
</code></pre>

<p>Mexico</p>

<pre><code class="r">Mex=rbind(Lacandona,MexEast,Sonora)
</code></pre>

<h3>PANTANAL</h3>

<p>18) PantanalTotal Brazil&amp;Paraguay   -  7 Projects in total, all in the same UTM zone</p>

<pre><code class="r">Pantanal&lt;- crs.convert(data = subset(jaguar_df,project_bioveg==&#39;Pantanal&#39;),
                     crs.input = &quot;+proj=longlat +datum=WGS84&quot;,
                     crs.output = &quot;+proj=utm +zone=21K +south +datum=WGS84 +units=m +no_defs&quot;,
                     point.names = c(&quot;utm_x&quot;, &quot;utm_y&quot;, &quot;long_x&quot;, &quot;lat_y&quot;))
Pantanal$date &lt;- as.character(Pantanal$date)
Pantanal$date &lt;- as.POSIXct(Pantanal$date, format =&quot;%Y-%m-%d %H:%M:%S&quot;, tz = &quot;Etc/GMT+4&quot;) 
</code></pre>

<h3>Jaguar Dataframe with UTMs</h3>

<p>head(AFW1);head(AFW2);head(Caatinga);head(Cerrado1);head(Cerrado2);head(CRica);head(Pantanal);head(Drych1);str(Drych)
head(Hch);head(FPy);head(Iguazu1);head(Iguazu2);head(Mamiraua);head(iopPA);head(Lacandona);head(MexEast);head(Sonora)</p>

<pre><code class="r">jaguar_df=rbind(AFW1,AFW2,Caatinga,Cerrado1,Cerrado2,CRica,Pantanal,Drych1,Drych2,Hch,FPy,Iguazu1,Iguazu2,Mamiraua,iopPA,Lacandona,MexEast,Sonora)
</code></pre>

<p>Need re-order the data again</p>

<pre><code class="r">jaguar_ord &lt;- jaguar_df[order(jaguar_df$id,jaguar_df$date),]
jaguar_df &lt;- jaguar_ord
</code></pre>

<p>And create a new Event_ID</p>

<pre><code class="r">jaguar_df$Event_ID &lt;- seq.int(nrow(jaguar_df))
</code></pre>

<p>Save as an additional object</p>

<pre><code class="r">jaguar&lt;-jaguar_df
</code></pre>

<p>In case we want save and read it as txt</p>

<pre><code class="r"># write.table(jaguar_df,file=&quot;../data/jaguar_df.txt&quot;,row.names = F,quote=F,col.names=T,sep=&quot;\t&quot;)
# jaguar &lt;- read.delim(file=&quot;../data/jaguar_df.txt&quot;)
</code></pre>

<h2>Creating a track in amt</h2>

<pre><code class="r"># Commom to both RSF and SSF and based on UTM and project regions 
</code></pre>

<h3>ATLANTIC FOREST WEST  (Project regions 1 and 2)</h3>

<p>Atlantic Forest West</p>

<pre><code class="r">AFWtrk &lt;- trk.convert(data = AFW,
                      .x=utm_x,
                      .y=utm_y,
                      .t=date,
                      id=id,
                      project_region=project_region,
                      sex=sex,
                      age=age,
                      weight=weight, 
                      status=status,
                      period=period,
                      long_x=long_x,
                      lat_y=lat_y,
                      crs = CRS(&quot;+proj=utm +zone=22K +south +datum=WGS84 +units=m +no_defs&quot;))
</code></pre>

<pre><code>## .t found, creating `track_xyt`.
</code></pre>

<p>Objects for AFW project regions</p>

<pre><code class="r"> AFW1trk=AFWtrk %&gt;% filter(project_region == &quot;Atlantic Forest W1&quot;)
 AFW2trk=AFWtrk %&gt;% filter(project_region == &quot;Atlantic Forest W2&quot;)
</code></pre>

<h3>CAATINGA</h3>

<p>3) Caatinga   </p>

<pre><code class="r">Caatingatrk &lt;- trk.convert(data = Caatinga,
                      .x=utm_x,
                      .y=utm_y,
                      .t=date,
                      id=id,
                      project_region=project_region,
                      sex=sex,
                      age=age,
                      weight=weight, 
                      status=status,
                      period=period,
                      long_x=long_x,
                      lat_y=lat_y,
                      crs = CRS(&quot;+proj=utm +zone=23L +south +datum=WGS84 +units=m +no_defs&quot;))
</code></pre>

<pre><code>## .t found, creating `track_xyt`.
</code></pre>

<h3>CERRADO   (2 Projects: 4 and 5)</h3>

<p>4) Cerrado1   </p>

<pre><code class="r">Cerrado1trk &lt;- trk.convert(data = Cerrado1,
                           .x=utm_x,
                           .y=utm_y,
                           .t=date,
                           id=id,
                           project_region=project_region,
                           sex=sex,
                           age=age,
                           weight=weight, 
                           status=status,
                           period=period,
                           long_x=long_x,
                           lat_y=lat_y,
                           crs = CRS(&quot;+proj=utm +zone=22K +south +datum=WGS84 +units=m +no_defs&quot;))
</code></pre>

<pre><code>## .t found, creating `track_xyt`.
</code></pre>

<p>5) Cerrado2   </p>

<pre><code class="r">Cerrado2trk &lt;- trk.convert(data = Cerrado2,
                           .x=utm_x,
                           .y=utm_y,
                           .t=date,
                           id=id,
                           project_region=project_region,
                           sex=sex,
                           age=age,
                           weight=weight, 
                           status=status,
                           period=period,
                           long_x=long_x,
                           lat_y=lat_y,
                           crs = CRS(&quot;+proj=utm +zone=22L +south +datum=WGS84 +units=m +no_defs&quot;))
</code></pre>

<pre><code>## .t found, creating `track_xyt`.
</code></pre>

<p>Cerradotrk</p>

<pre><code class="r">Cerradotrk=rbind(Cerrado1trk,Cerrado2trk)
</code></pre>

<h3>COSTA RICA</h3>

<p>6) Costa Rica</p>

<pre><code class="r">CRicatrk &lt;- trk.convert(data = CRica,
                          .x=utm_x,
                          .y=utm_y,
                          .t=date,
                          id=id,
                          project_region=project_region,
                          sex=sex,
                          age=age,
                          weight=weight, 
                          status=status,
                          period=period,
                          long_x=long_x,
                          lat_y=lat_y,
                          crs = CRS(&quot;+proj=utm +zone=16P +north +datum=WGS84 +units=m +no_defs&quot;))
</code></pre>

<pre><code>## .t found, creating `track_xyt`.
</code></pre>

<h3>DRY CHACO</h3>

<p>7) Drych1</p>

<pre><code class="r">Drych1trk &lt;- trk.convert(data = Drych1,
                        .x=utm_x,
                        .y=utm_y,
                        .t=date,
                        id=id,
                        project_region=project_region,
                        sex=sex,
                        age=age,
                        weight=weight, 
                        status=status,
                        period=period,
                        long_x=long_x,
                        lat_y=lat_y,
                        crs = CRS(&quot;+proj=utm +zone=20K +south +datum=WGS84 +units=m +no_defs&quot;))
</code></pre>

<pre><code>## .t found, creating `track_xyt`.
</code></pre>

<p>8) Drych2</p>

<pre><code class="r">Drych2trk &lt;- trk.convert(data = Drych2,
                         .x=utm_x,
                         .y=utm_y,
                         .t=date,
                         id=id,
                         project_region=project_region,
                         sex=sex,
                         age=age,
                         weight=weight, 
                         status=status,
                         period=period,
                         long_x=long_x,
                         lat_y=lat_y,
                         crs = CRS(&quot;+proj=utm +zone=21K +south +datum=WGS84 +units=m +no_defs&quot;))
</code></pre>

<pre><code>## .t found, creating `track_xyt`.
</code></pre>

<p>DRY CHACO trk =&gt; Drychtrk</p>

<pre><code class="r">Drychtrk=rbind(Drych1trk,Drych2trk)
</code></pre>

<h3>HUMID CHACO</h3>

<p>9) Humid Chaco       </p>

<pre><code class="r">Hchtrk &lt;- trk.convert(data = Hch,
                         .x=utm_x,
                         .y=utm_y,
                         .t=date,
                         id=id,
                         project_region=project_region,
                         sex=sex,
                         age=age,
                         weight=weight, 
                         status=status,
                         period=period,
                         long_x=long_x,
                         lat_y=lat_y,
                         crs = CRS(&quot;+proj=utm +zone=21K +south +datum=WGS84 +units=m +no_defs&quot;))
</code></pre>

<pre><code>## .t found, creating `track_xyt`.
</code></pre>

<h3>FOREST PARAGUAY</h3>

<p>10) Forest Paraguay   </p>

<pre><code class="r">FPytrk &lt;- trk.convert(data = FPy,
                      .x=utm_x,
                      .y=utm_y,
                      .t=date,
                      id=id,
                      project_region=project_region,
                      sex=sex,
                      age=age,
                      weight=weight, 
                      status=status,
                      period=period,
                      long_x=long_x,
                      lat_y=lat_y,
                      crs = CRS(&quot;+proj=utm +zone=21J +south +datum=WGS84 +units=m +no_defs&quot;))
</code></pre>

<pre><code>## .t found, creating `track_xyt`.
</code></pre>

<h3>IGUAZU</h3>

<p>11) Iguazu1</p>

<pre><code class="r">Iguazu1trk &lt;- trk.convert(data = Iguazu1,
                      .x=utm_x,
                      .y=utm_y,
                      .t=date,
                      id=id,
                      project_region=project_region,
                      sex=sex,
                      age=age,
                      weight=weight, 
                      status=status,
                      period=period,
                      long_x=long_x,
                      lat_y=lat_y,
                      crs = CRS(&quot;+proj=utm +zone=21J +south +datum=WGS84 +units=m +no_defs&quot;))
</code></pre>

<pre><code>## .t found, creating `track_xyt`.
</code></pre>

<p>12) Iguazu2</p>

<pre><code class="r">Iguazu2trk &lt;- trk.convert(data = Iguazu2,
                          .x=utm_x,
                          .y=utm_y,
                          .t=date,
                          id=id,
                          project_region=project_region,
                          sex=sex,
                          age=age,
                          weight=weight, 
                          status=status,
                          period=period,
                          long_x=long_x,
                          lat_y=lat_y,
                          crs = CRS(&quot;+proj=utm +zone=22J +south +datum=WGS84 +units=m +no_defs&quot;))
</code></pre>

<pre><code>## .t found, creating `track_xyt`.
</code></pre>

<p>Iguazutrk   </p>

<pre><code class="r">Iguazutrk=rbind(Iguazu1trk,Iguazu2trk)
</code></pre>

<h3>AMAZONIA</h3>

<p>13) Flooded  Amazonia, Mamiraua (Brazil)   </p>

<pre><code class="r">Mamirauatrk &lt;- trk.convert(data = Mamiraua,
                          .x=utm_x,
                          .y=utm_y,
                          .t=date,
                          id=id,
                          project_region=project_region,
                          sex=sex,
                          age=age,
                          weight=weight, 
                          status=status,
                          period=period,
                          long_x=long_x,
                          lat_y=lat_y,
                          crs = CRS(&quot;+proj=utm +zone=20M +south +datum=WGS84 +units=m +no_defs&quot;))
</code></pre>

<pre><code>## .t found, creating `track_xyt`.
</code></pre>

<p>14   Dry/ East Amazonia, IOP PA, translocated</p>

<pre><code class="r">iopPAtrk &lt;- trk.convert(data = iopPA,
                           .x=utm_x,
                           .y=utm_y,
                           .t=date,
                           id=id,
                           project_region=project_region,
                           sex=sex,
                           age=age,
                           weight=weight, 
                           status=status,
                           period=period,
                           long_x=long_x,
                           lat_y=lat_y,
                           crs = CRS(&quot;+proj=utm +zone=22M +south +datum=WGS84 +units=m +no_defs&quot;))
</code></pre>

<pre><code>## .t found, creating `track_xyt`.
</code></pre>

<h3>Greater Lacandona, Mexico</h3>

<p>15) Lacandona</p>

<pre><code class="r">Lacandonatrk &lt;- trk.convert(data = Lacandona,
                        .x=utm_x,
                        .y=utm_y,
                        .t=date,
                        id=id,
                        project_region=project_region,
                        sex=sex,
                        age=age,
                        weight=weight, 
                        status=status,
                        period=period,
                        long_x=long_x,
                        lat_y=lat_y,
                        crs = CRS(&quot;+proj=utm +zone=15Q +south +datum=WGS84 +units=m +no_defs&quot;))
</code></pre>

<pre><code>## .t found, creating `track_xyt`.
</code></pre>

<p>16) MexEast, Mexico</p>

<pre><code class="r">MexEasttrk &lt;- trk.convert(data = MexEast,
                            .x=utm_x,
                            .y=utm_y,
                            .t=date,
                            id=id,
                            project_region=project_region,
                            sex=sex,
                            age=age,
                            weight=weight, 
                            status=status,
                            period=period,
                            long_x=long_x,
                            lat_y=lat_y,
                            crs = CRS(&quot;+proj=utm +zone=16Q +south +datum=WGS84 +units=m +no_defs&quot;))
</code></pre>

<pre><code>## .t found, creating `track_xyt`.
</code></pre>

<h3>Sonora, Mexico</h3>

<p>17)  Sonora</p>

<pre><code class="r">Sonoratrk &lt;- trk.convert(data = Sonora,
                          .x=utm_x,
                          .y=utm_y,
                          .t=date,
                          id=id,
                          project_region=project_region,
                          sex=sex,
                          age=age,
                          weight=weight, 
                          status=status,
                          period=period,
                          long_x=long_x,
                          lat_y=lat_y,
                          crs = CRS(&quot;+proj=utm +zone=12R +south +datum=WGS84 +units=m +no_defs&quot;))
</code></pre>

<pre><code>## .t found, creating `track_xyt`.
</code></pre>

<h3>PANTANAL</h3>

<p>18) PantanalTotal Brazil&amp;Paraguay  -  7 Projects in total, all in the same UTM zone</p>

<pre><code class="r">Pantanaltrk &lt;- trk.convert(data = Pantanal,
                         .x=utm_x,
                         .y=utm_y,
                         .t=date,
                         id=id,
                         project_region=project_region,
                         sex=sex,
                         age=age,
                         weight=weight, 
                         status=status,
                         period=period,
                         long_x=long_x,
                         lat_y=lat_y,
                         crs = CRS(&quot;+proj=utm +zone=21K +south +datum=WGS84 +units=m +no_defs&quot;))
</code></pre>

<pre><code>## .t found, creating `track_xyt`.
</code></pre>

<p>Objects for Pantanal project regions</p>

<pre><code class="r"> Oncafaritrk=Pantanaltrk %&gt;% filter(project_region == &quot;Oncafari&quot;)
 Paraguaytrk=Pantanaltrk %&gt;% filter(project_region == &quot;Pantanal Paraguay&quot;)
 Panthera1trk=Pantanaltrk %&gt;% filter(project_region == &quot;Panthera1&quot;)
 Panthera2trk=Pantanaltrk %&gt;% filter(project_region == &quot;Panthera2&quot;)
 RioNegrotrk=Pantanaltrk %&gt;% filter(project_region == &quot;Rio Negro&quot;)
 SaoBentotrk=Pantanaltrk %&gt;% filter(project_region == &quot;Sao Bento&quot;)
 Taiamatrk=Pantanaltrk %&gt;% filter(project_region == &quot;Taiama&quot;)
</code></pre>

<h3>ALL  JAGUARS  trk =&gt;     jaguartrk</h3>

<p>All Project regions trk</p>

<pre><code class="r">jaguartrk=rbind(AFW1trk,AFW2trk,Caatingatrk,Cerrado1trk,Cerrado2trk,CRicatrk,Drychtrk, Hchtrk,FPytrk,Iguazutrk,
                Mamirauatrk,iopPAtrk,Lacandonatrk, MexEasttrk, Sonoratrk,Oncafaritrk,Paraguaytrk,Panthera1trk,
                Panthera2trk,RioNegrotrk,SaoBentotrk,Taiamatrk) 
</code></pre>

<p>Dataframe for each individual (to run if we need any specic individual)</p>

<pre><code class="r">X1=subset(jaguar_df,id==&#39;1&#39;)
X2=subset(jaguar_df,id==&#39;2&#39;)
X3=subset(jaguar_df,id==&#39;3&#39;)
X4=subset(jaguar_df,id==&#39;4&#39;)
X5=subset(jaguar_df,id==&#39;5&#39;)
X6=subset(jaguar_df,id==&#39;6&#39;)
X7=subset(jaguar_df,id==&#39;7&#39;)
X8=subset(jaguar_df,id==&#39;8&#39;)
X9=subset(jaguar_df,id==&#39;9&#39;)
X10=subset(jaguar_df,id==&#39;10&#39;) 
X11=subset(jaguar_df,id==&#39;11&#39;) 
X12=subset(jaguar_df,id==&#39;12&#39;) 
X13=subset(jaguar_df,id==&#39;13&#39;)
X14=subset(jaguar_df,id==&#39;14&#39;) 
X15=subset(jaguar_df,id==&#39;15&#39;) 
X16=subset(jaguar_df,id==&#39;16&#39;) 
X17=subset(jaguar_df,id==&#39;17&#39;) 
X18=subset(jaguar_df,id==&#39;18&#39;) 
X19=subset(jaguar_df,id==&#39;19&#39;) 
X20=subset(jaguar_df,id==&#39;20&#39;)
X21=subset(jaguar_df,id==&#39;21&#39;)
X22=subset(jaguar_df,id==&#39;22&#39;)
X23=subset(jaguar_df,id==&#39;23&#39;)
X24=subset(jaguar_df,id==&#39;24&#39;)
X25=subset(jaguar_df,id==&#39;25&#39;)
X26=subset(jaguar_df,id==&#39;26&#39;)
X27=subset(jaguar_df,id==&#39;27&#39;)
X28=subset(jaguar_df,id==&#39;28&#39;)
X29=subset(jaguar_df,id==&#39;29&#39;)
X30=subset(jaguar_df,id==&#39;30&#39;)
X31=subset(jaguar_df,id==&#39;31&#39;)
X32=subset(jaguar_df,id==&#39;32&#39;)
X33=subset(jaguar_df,id==&#39;33&#39;)
X34=subset(jaguar_df,id==&#39;34&#39;)
X35=subset(jaguar_df,id==&#39;35&#39;)
X36=subset(jaguar_df,id==&#39;36&#39;)
X37=subset(jaguar_df,id==&#39;37&#39;)
X38=subset(jaguar_df,id==&#39;38&#39;)
X39=subset(jaguar_df,id==&#39;39&#39;)
X40=subset(jaguar_df,id==&#39;40&#39;)
X41=subset(jaguar_df,id==&#39;41&#39;)
X42=subset(jaguar_df,id==&#39;42&#39;)
X43=subset(jaguar_df,id==&#39;43&#39;)
X44=subset(jaguar_df,id==&#39;44&#39;)
X45=subset(jaguar_df,id==&#39;45&#39;)
X46=subset(jaguar_df,id==&#39;46&#39;)
X47=subset(jaguar_df,id==&#39;47&#39;)
X48=subset(jaguar_df,id==&#39;48&#39;)
X49=subset(jaguar_df,id==&#39;49&#39;)
X50=subset(jaguar_df,id==&#39;50&#39;)
X51=subset(jaguar_df,id==&#39;51&#39;)
X52=subset(jaguar_df,id==&#39;52&#39;)
X53=subset(jaguar_df,id==&#39;53&#39;)
X54=subset(jaguar_df,id==&#39;54&#39;)
X55=subset(jaguar_df,id==&#39;55&#39;)
X56=subset(jaguar_df,id==&#39;56&#39;)
X57=subset(jaguar_df,id==&#39;57&#39;)
X58=subset(jaguar_df,id==&#39;58&#39;)
X59=subset(jaguar_df,id==&#39;59&#39;)
X60=subset(jaguar_df,id==&#39;60&#39;)
X61=subset(jaguar_df,id==&#39;61&#39;)
X62=subset(jaguar_df,id==&#39;62&#39;)
X63=subset(jaguar_df,id==&#39;63&#39;)
X64=subset(jaguar_df,id==&#39;64&#39;)
X65=subset(jaguar_df,id==&#39;65&#39;)
X66=subset(jaguar_df,id==&#39;66&#39;)
X67=subset(jaguar_df,id==&#39;67&#39;)
X68=subset(jaguar_df,id==&#39;68&#39;)
X69=subset(jaguar_df,id==&#39;69&#39;)
X70=subset(jaguar_df,id==&#39;70&#39;)
X71=subset(jaguar_df,id==&#39;71&#39;)
X72=subset(jaguar_df,id==&#39;72&#39;)
X73=subset(jaguar_df,id==&#39;73&#39;)
X74=subset(jaguar_df,id==&#39;74&#39;)
X75=subset(jaguar_df,id==&#39;75&#39;)
X76=subset(jaguar_df,id==&#39;76&#39;)
X77=subset(jaguar_df,id==&#39;77&#39;)
X78=subset(jaguar_df,id==&#39;78&#39;)
X79=subset(jaguar_df,id==&#39;79&#39;)
X80=subset(jaguar_df,id==&#39;80&#39;)
X81=subset(jaguar_df,id==&#39;81&#39;)
X82=subset(jaguar_df,id==&#39;82&#39;)
X83=subset(jaguar_df,id==&#39;83&#39;)
X84=subset(jaguar_df,id==&#39;84&#39;)
X85=subset(jaguar_df,id==&#39;85&#39;)
X86=subset(jaguar_df,id==&#39;86&#39;)
X87=subset(jaguar_df,id==&#39;87&#39;)
X88=subset(jaguar_df,id==&#39;88&#39;)
X89=subset(jaguar_df,id==&#39;89&#39;)
X90=subset(jaguar_df,id==&#39;90&#39;)
X91=subset(jaguar_df,id==&#39;91&#39;)
X92=subset(jaguar_df,id==&#39;92&#39;)
X93=subset(jaguar_df,id==&#39;93&#39;)
X94=subset(jaguar_df,id==&#39;94&#39;)
X95=subset(jaguar_df,id==&#39;95&#39;)
X96=subset(jaguar_df,id==&#39;96&#39;)
X97=subset(jaguar_df,id==&#39;97&#39;)
X98=subset(jaguar_df,id==&#39;98&#39;)
X99=subset(jaguar_df,id==&#39;99&#39;)
X100=subset(jaguar_df,id==&#39;100&#39;)
X101=subset(jaguar_df,id==&#39;101&#39;)
X102=subset(jaguar_df,id==&#39;102&#39;)
X103=subset(jaguar_df,id==&#39;103&#39;)
X104=subset(jaguar_df,id==&#39;104&#39;)
X105=subset(jaguar_df,id==&#39;105&#39;)
X106=subset(jaguar_df,id==&#39;106&#39;)
X107=subset(jaguar_df,id==&#39;107&#39;)
X108=subset(jaguar_df,id==&#39;108&#39;)
X109=subset(jaguar_df,id==&#39;109&#39;)
X110=subset(jaguar_df,id==&#39;110&#39;)
X111=subset(jaguar_df,id==&#39;111&#39;)
X112=subset(jaguar_df,id==&#39;112&#39;)
X113=subset(jaguar_df,id==&#39;113&#39;)
X114=subset(jaguar_df,id==&#39;114&#39;)
X115=subset(jaguar_df,id==&#39;115&#39;)
X116=subset(jaguar_df,id==&#39;116&#39;)
X117=subset(jaguar_df,id==&#39;117&#39;)
</code></pre>

<p>Produce an output using ezknitr</p>

<pre><code class="r">ezspin(file = &quot;JaguarDataPrep.R&quot;, out_dir = &quot;reports&quot;,
       params = list(&quot;DATASET_NAME&quot; = &quot;jaguar.dat&quot;), 
       keep_html = TRUE, keep_rmd = TRUE)
</code></pre>

<pre><code>## ezspin output in
## D:\Documents\GitHub\jaguar-codes\R\reports
</code></pre>

<pre><code class="r">open_output_dir()
</code></pre>

<pre><code>## Opening D:\Documents\GitHub\jaguar-codes\R\reports
</code></pre>

<p>Other info</p>

<pre><code class="r">sessionInfo()     
</code></pre>

<pre><code>## R version 3.5.2 (2018-12-20)
## Platform: x86_64-w64-mingw32/x64 (64-bit)
## Running under: Windows &gt;= 8 x64 (build 9200)
## 
## Matrix products: default
## 
## locale:
## [1] LC_COLLATE=English_United States.1252 
## [2] LC_CTYPE=English_United States.1252   
## [3] LC_MONETARY=English_United States.1252
## [4] LC_NUMERIC=C                          
## [5] LC_TIME=English_United States.1252    
## 
## attached base packages:
## [1] stats     graphics  grDevices utils     datasets  methods   base     
## 
## other attached packages:
##  [1] bindrcpp_0.2.2      ezknitr_0.6         knitr_1.21         
##  [4] caTools_1.17.1.1    circular_0.4-93     tibble_1.4.2       
##  [7] lubridate_1.7.4     readr_1.2.1         dplyr_0.7.8        
## [10] RCurl_1.95-4.11     bitops_1.0-6        leaflet_2.0.2      
## [13] lattice_0.20-38     rgl_0.99.16         ggmap_2.6.1        
## [16] ggplot2_3.1.0       colorspace_1.4-0    maptools_0.9-4     
## [19] amt_0.0.5.0         adehabitatLT_0.3.23 CircStats_0.2-6    
## [22] boot_1.3-20         MASS_7.3-51.1       adehabitatMA_0.3.12
## [25] ade4_1.7-13         move_3.1.0          rgdal_1.3-6        
## [28] raster_2.8-4        sp_1.3-1            geosphere_1.5-7    
## [31] install.load_1.2.1 
## 
## loaded via a namespace (and not attached):
##  [1] webshot_0.5.1           httr_1.4.0             
##  [3] tools_3.5.2             utf8_1.1.4             
##  [5] R6_2.3.0                lazyeval_0.2.1         
##  [7] manipulateWidget_0.10.0 withr_2.1.2            
##  [9] tidyselect_0.2.5        compiler_3.5.2         
## [11] cli_1.0.1               xml2_1.2.0             
## [13] scales_1.0.0            mvtnorm_1.0-8          
## [15] stringr_1.3.1           digest_0.6.18          
## [17] foreign_0.8-71          R.utils_2.7.0          
## [19] jpeg_0.1-8              pkgconfig_2.0.2        
## [21] htmltools_0.3.6         highr_0.7              
## [23] maps_3.3.0              htmlwidgets_1.3        
## [25] rlang_0.3.0.1           rstudioapi_0.8         
## [27] shiny_1.2.0             bindr_0.1.1            
## [29] jsonlite_1.5            crosstalk_1.0.0        
## [31] R.oo_1.22.0             magrittr_1.5           
## [33] Matrix_1.2-15           Rcpp_1.0.0             
## [35] munsell_0.5.0           fansi_0.4.0            
## [37] proto_1.0.0             R.methodsS3_1.7.1      
## [39] stringi_1.2.4           yaml_2.2.0             
## [41] plyr_1.8.4              grid_3.5.2             
## [43] parallel_3.5.2          promises_1.0.1         
## [45] crayon_1.3.4            miniUI_0.1.1.1         
## [47] splines_3.5.2           mapproj_1.2.6          
## [49] hms_0.4.2               pillar_1.3.0           
## [51] rjson_0.2.20            markdown_0.8           
## [53] reshape2_1.4.3          codetools_0.2-15       
## [55] glue_1.3.0              evaluate_0.12          
## [57] png_0.1-7               httpuv_1.4.5           
## [59] RgoogleMaps_1.4.3       gtable_0.2.0           
## [61] purrr_0.2.5             tidyr_0.8.2            
## [63] assertthat_0.2.0        xfun_0.4               
## [65] mime_0.6                xtable_1.8-3           
## [67] later_0.7.5             survival_2.43-3        
## [69] memoise_1.1.0
</code></pre>

<pre><code class="r">proc.time()
</code></pre>

<pre><code>##    user  system elapsed 
## 1055.92   37.62 5358.71
</code></pre>

</body>

</html>
